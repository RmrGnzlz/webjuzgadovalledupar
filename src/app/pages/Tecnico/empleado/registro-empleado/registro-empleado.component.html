<ng-snotify></ng-snotify>

<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-body">
        <ng-wizard (stepChanged)="stepChanged($event)">
          <ng-wizard-step
            [title]="'Paso 1'"
            [description]="'Consultar Persona'"
            [canEnter]="isValidTypeBoolean"
            [canExit]="isValidFunctionReturnsBoolean.bind(this)"
          >
            <br />
            <div class="row">
              <div class="col-8">
                <span
                  ><strong>NOTA: </strong>Consultar Persona en el sistema
                </span>
              </div>
            </div>
            <br /><br />

            <div class="container">
              <div class="row justify-content-center">
                <div class="col-sm-6">
                  <form #documentoForm="ngForm">
                  <div class="input-group">
                    <div class="input-group-addon"><i class="ti-user"></i></div>
                      <input
                        [(ngModel)]="persona.numeroDocumento"
                        name="documento"
                        required
                        minlength="7"
                        maxlength="11"
                        type="text"
                        (keypress)="onlyNumberKey($event)"
                        class="form-control"
                        id="documento"
                        #documentoControl="ngModel"
                        placeholder="Digite documento identificación"
                      />
                    </div>
                    <ng-container
                    *ngIf="
                      documentoControl.invalid &&
                      documentoControl.touched
                    "
                  >
                    <div
                      *ngIf="documentoControl.errors.required"
                      class="container-error-message"
                    >
                      <small class="text-danger"> Campo requerido </small>
                    </div>
                    <div
                      *ngIf="documentoControl.errors.minlength"
                      class="container-error-message"
                    >
                      <small class="text-danger"> Minimo 8 digitos</small>
                    </div>
                    <div
                      *ngIf="documentoControl.errors.maxlength"
                      class="container-error-message"
                    >
                      <small class="text-danger"> Maximo 11 digitos</small>
                    </div>
                  </ng-container>
                  </form>
                  </div>

              </div>
            </div>
          </ng-wizard-step>

          <ng-wizard-step
            [title]="'Paso 2'"
            [description]="'Datos Basicos'"
            [canEnter]="isValidTypeBoolean"
            [canExit]="isValidFunctionReturnsBoolean.bind(this)"
          >
            <form #personaForm="ngForm">
              <div class="row">
                <div class="col">
                  <div class="form-group m-b-40">
                    <label for="TipoDocumento">Tipo de documento</label>
                    <select
                      [(ngModel)]="persona.tipoDocumento"
                      class="form-control custom-select p-0"
                      id="TipoDocumento"
                      name="TipoDocumento"
                      required
                      #TipoDocumentoControl="ngModel"
                    >
                      <option value="">Selecione Tipo Solicitante</option>
                      <option
                        *ngFor="let item of tipoDocumentos"
                        [value]="item.key"
                      >
                        {{ item.key }}
                      </option>
                    </select>
                    <ng-container
                      *ngIf="
                        TipoDocumentoControl.invalid &&
                        TipoDocumentoControl.touched
                      "
                    >
                      <div
                        *ngIf="TipoDocumentoControl.errors.required"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Campo requerido </small>
                      </div>
                    </ng-container>
                  </div>
                </div>
                <div class="col">
                  <div class="form-group m-b-40">
                    <label for="NumeroDocumento">Numero documento</label>
                    <input
                      [(ngModel)]="persona.numeroDocumento"
                      name="NumeroDocumento"
                      type="text"
                      class="form-control"
                      id="NumeroDocumento"
                      required
                      minlength="8"
                      maxlength="11"
                      (keypress)="onlyNumberKey($event)"
                      #NumeroDocumentoControl="ngModel"
                    />
                    <ng-container
                      *ngIf="
                        NumeroDocumentoControl.invalid &&
                        NumeroDocumentoControl.touched
                      "
                    >
                      <div
                        *ngIf="NumeroDocumentoControl.errors.required"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Campo requerido </small>
                      </div>
                      <div
                        *ngIf="NumeroDocumentoControl.errors.minlength"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Minimo 8 digitos</small>
                      </div>
                      <div
                        *ngIf="NumeroDocumentoControl.errors.maxlength"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Maximo 11 digitos</small>
                      </div>
                    </ng-container>
                  </div>
                </div>
                <div class="col">
                  <div class="form-group m-b-40">
                    <label for="ExpedicionDocumento">Fecha expedición</label>
                    <input
                      type="date"
                      [(ngModel)]="persona.expedicionDocumento"
                      name="ExpedicionDocumento"
                      class="form-control"
                      id="ExpedicionDocumento"
                      #ExpedicionDocumentoControl="ngModel"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-3">
                  <div class="form-group m-b-40">
                    <label for="nombre1">Primer Nombre*</label>
                    <input
                      type="text"
                      [(ngModel)]="nombresYapellidos[0]"
                      name="nombre1"
                      class="form-control"
                      id="nombre1"
                      required
                      minlength="3"
                      #nombre1Control="ngModel"
                      (blur)="
                        nombresYapellidos[0] = nombresYapellidos[0].trim()
                      "
                    />
                    <ng-container
                      *ngIf="nombre1Control.invalid && nombre1Control.touched"
                    >
                      <div
                        *ngIf="nombre1Control.errors.required"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Campo requerido </small>
                      </div>
                      <div
                        *ngIf="nombre1Control.errors.minlength"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Minimo 3 caracteres </small>
                      </div>
                    </ng-container>
                  </div>
                </div>
                <div class="col-3">
                  <div class="form-group m-b-40">
                    <label for="input2Nombre">Segundo Nombre</label>
                    <input
                      [(ngModel)]="nombresYapellidos[1]"
                      name="nombre2"
                      type="text"
                      class="form-control"
                      id="input2Nombre"
                      (blur)="
                        nombresYapellidos[1] = nombresYapellidos[1].trim()
                      "
                    />
                  </div>
                </div>
                <div class="col-3">
                  <div class="form-group m-b-40">
                    <label for="input1Apellido">Primer Apellido</label>
                    <input
                      [(ngModel)]="nombresYapellidos[2]"
                      name="apellido1"
                      type="text"
                      class="form-control"
                      id="input1Apellido"
                      required
                      minlength="3"
                      #apellido1Control="ngModel"
                      (blur)="
                        nombresYapellidos[2] = nombresYapellidos[2].trim()
                      "
                    />
                    <ng-container
                      *ngIf="
                        apellido1Control.invalid && apellido1Control.touched
                      "
                    >
                      <div
                        *ngIf="apellido1Control.errors.required"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Campo requerido </small>
                      </div>
                      <div
                        *ngIf="apellido1Control.errors.minlength"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Minimo 3 caracteres </small>
                      </div>
                    </ng-container>
                  </div>
                </div>
                <div class="col-3">
                  <div class="form-group m-b-40">
                    <label for="input2Apellido">Segundo Apellido</label>
                    <input
                      [(ngModel)]="nombresYapellidos[3]"
                      name="apellido2"
                      type="text"
                      class="form-control"
                      id="input2Apellido"
                      required
                      minlength="3"
                      #apellido2Control="ngModel"
                      (blur)="
                        nombresYapellidos[3] = nombresYapellidos[3].trim()
                      "
                    />
                    <ng-container
                      *ngIf="
                        apellido2Control.invalid && apellido2Control.touched
                      "
                    >
                      <div
                        *ngIf="apellido2Control.errors.required"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Campo requerido </small>
                      </div>
                      <div
                        *ngIf="apellido2Control.errors.minlength"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Minimo 3 caracteres </small>
                      </div>
                    </ng-container>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col">
                  <div class="form-group m-b-40">
                    <label for="inputNacionalidad">Nacionalidad</label>
                    <select
                      required
                      [(ngModel)]="persona.nacionalidad"
                      class="form-control p-0"
                      id="inputNacionalidad"
                      name="Nacionalidad"
                      #nacionalidadControl="ngModel"
                    >
                      <option></option>
                      <option>Colombiano</option>
                      <option>Venezolano</option>
                    </select>
                    <ng-container
                      *ngIf="
                        nacionalidadControl.invalid &&
                        nacionalidadControl.touched
                      "
                    >
                      <div
                        *ngIf="nacionalidadControl.errors.required"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Campo requerido </small>
                      </div>
                    </ng-container>
                  </div>
                </div>
                <div class="col">
                  <div class="form-group m-b-40">
                    <label for="inputDireccion">Direccion Residencia</label>
                    <input
                      type="text"
                      class="form-control"
                      id="inputDireccion"
                      [(ngModel)]="persona.direccion"
                      name="Dirrecion"
                      #direccionControl="ngModel"
                      required
                      minlength="5"
                    />
                    <ng-container
                      *ngIf="
                        direccionControl.invalid && direccionControl.touched
                      "
                    >
                      <div
                        *ngIf="direccionControl.errors.required"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Campo requerido </small>
                      </div>
                      <div
                        *ngIf="direccionControl.errors.minlength"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Minimo 5 caracteres </small>
                      </div>
                    </ng-container>
                  </div>
                </div>
                <div class="col">
                  <div class="form-group m-b-40">
                    <label for="inputTelefono">Telefono</label>
                    <input
                      [(ngModel)]="persona.telefono"
                      name="Telefono"
                      type="text"
                      class="form-control"
                      id="inputTelefono"
                      #telefonoControl="ngModel"
                      required
                      maxlength="10"
                      minlength="10"
                      placeholder="321 000 00 00"
                      mask="000-000-00-00"
                      (keypress)="onlyNumberKey($event)"
                    />
                    <ng-container
                      *ngIf="telefonoControl.invalid && telefonoControl.touched"
                    >
                      <div
                        *ngIf="telefonoControl.errors.required"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Campo requerido </small>
                      </div>
                      <!-- <div
                      *ngIf="telefonoControl.errors.minlength"
                      class="container-error-message"
                    >
                      <small class="text-danger">
                        Requerido 10 digitos
                      </small>
                    </div> -->
                    </ng-container>
                  </div>
                </div>
                <div class="col">
                  <div class="form-group m-b-40">
                    <label for="inputCorreo">Correo</label>
                    <input
                      type="text"
                      class="form-control"
                      id="inputCorreo"
                      [(ngModel)]="persona.email"
                      name="Email"
                      #emailControl="ngModel"
                      required
                      pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
                    />
                    <ng-container
                      *ngIf="emailControl.invalid && emailControl.touched"
                    >
                      <div
                        *ngIf="emailControl.errors.required"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Campo requerido </small>
                      </div>
                      <div
                        *ngIf="emailControl.errors.pattern"
                        class="container-error-message"
                      >
                        <small class="text-danger"> Correo invalido </small>
                      </div>
                    </ng-container>
                  </div>
                </div>
              </div>
            </form>
          </ng-wizard-step>

          <ng-wizard-step
            [title]="'Paso 3'"
            [description]="'Credenciales'"
            [canEnter]="isValidTypeBoolean"
            [canExit]="isValidFunctionReturnsBoolean.bind(this)"
          >
            <div class="row justify-content-center">
              <div class="col-4">
                <div class="">
                  <div class="form-group">
                    <label class="control-label">Usuario</label>
                    <input
                    [(ngModel)]="empleado.usuario"
                    #usuarioControl="ngModel"
                      name="usuario"
                      type="text"
                      id="firstName"
                      class="form-control"
                      placeholder="John doe"
                      required
                    />
                    <small class="form-control-feedback">
                      This is inline help
                    </small>
                  </div>
                </div>

                <div class="">
                  <div class="form-group">
                    <label class="control-label">Inicio Cargo</label>
                    <input
                    [(ngModel)]="empleado.inicioCargo"
                    name="inicioCargo"
                    #inicioCargoControl="ngModel"
                    type="date"
                    class="form-control"
                    placeholder="dd/mm/yyyy"
                  />
                  </div>
                </div>
              </div>
              <div class="col-4">
                <div class="">
                  <div class="form-group has-success">
                    <label class="control-label">Rol</label>
                    <select
                      [(ngModel)]="empleado.rol"
                      name="rol"
                      #rolControl="ngModel"
                    class="form-control custom-select">
                      <option value="">Escribiente</option>
                      <option value="">Coordinador</option>
                      <option value="">Notificador</option>
                    </select>
                    <small class="form-control-feedback">
                      Select your gender
                    </small>
                  </div>
                </div>
                <div class="">
                  <div class="form-group">
                    <label class="control-label">Finalización cargo</label>
                    <input
                    [(ngModel)]="empleado.finCargo"
                    name="fincargo"
                    #finCargoControl="ngModel"
                      type="date"
                      class="form-control"
                      placeholder="dd/mm/yyyy"
                    />
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col text-center">
                <button type="submit" (click)="validarFormularioYRegistrar()" class="btn btn-success">
                  <i class="fa fa-check"></i> Registrar
                </button>
                <button type="button" class="btn btn-inverse">Cancelar</button>
              </div>
              <!-- <div class="col-4">

            </div> -->
            </div>
          </ng-wizard-step>
        </ng-wizard>
      </div>
    </div>
  </div>
</div>

<!--
<div class="container">
  <div class="row justify-content-center">
    <div class="card w-100 text-center">
      <div class="card-header">
      </div>
      <div class="card-body">

      </div>
    </div>
  </div>
</div> -->
